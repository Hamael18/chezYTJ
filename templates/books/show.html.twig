{% extends 'layouts/base.html.twig' %}

{% block title book.title %}

{% block body %}
    <div class="col-md-10 mx-auto">
        <div class="bg-white rounded shadow collection">
            <div class="pt-3">
                <h1 class="text-center text-primary">
                        {{ book.title }}
                </h1>
                <p class="text-muted text-center"><small> Ajouté⋅e en base de données le
                            <time datetime="{{ book.createdAt|date('Y-m-d H:i:s') }}">{{ book.createdAt|date('Y-m-d') }} </time></small></p>
                {% if book.collection %}
                        <p class="pt-3 text-break text-center"> {{ book.collection.name }}</p>
            </div>
            {% endif %}
            <div class="text-center">
            <img class="img-fluid"
                 src="{{(book.imageName ? vich_uploader_asset(book) : asset('build/images/book.jpg')) | imagine_filter('squared_thumbnail_medium') }}"
                 alt="{{ book.title}}">
            </div>
                    <div class="text-center pt-3">
                        <a href="{{ path('app_books_edit', {id: book.id}) }}" class="btn btn-light">Edit</a>
                        <a href="https://google.com"
                           onclick="event.preventDefault(); confirm('Voulez-vous supprimer ce livre?') && document.getElementById('js-book-delete-form').submit();"
                           class="btn btn-light">Delete</a>
                        <form id="js-book-delete-form" action="{{ path('app_books_delete', {id: book.id}) }}" method="post"
                              style="display: none">
                            <input type="text" name="csrf_token" value="{{ csrf_token('book_deletion_' ~ book.id) }}">
                            <input type="hidden" name="_method" value="DELETE">
                        </form>
                    </div>
                </div>
        </div>
    </div>


{% endblock %}